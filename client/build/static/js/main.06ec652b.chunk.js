(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(25),s=a.n(r),i=(a(72),a(73),a(18)),l=a(9),o=a(8),j=a(26),u=a.n(j),d=a(60),b=(a(92),d.a.initializeApp({apiKey:"AIzaSyB62-TofAYhzpwESEJjjLIkwxq_thSnDZc",authDomain:"ink-blot-tech-exer.firebaseapp.com",databaseURL:"https://ink-blot-tech-exer-default-rtdb.firebaseio.com",projectId:"ink-blot-tech-exer",storageBucket:"ink-blot-tech-exer.appspot.com",messagingSenderId:"260119403014",appId:"1:260119403014:web:3fc08af28d5f0458890187"})),m=b.auth(),p=a(1),O=n.a.createContext();function h(){return Object(c.useContext)(O)}function f(e){var t=e.children,a=Object(c.useState)(),n=Object(o.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],u=l[1];Object(c.useEffect)((function(){return m.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var d={currentUser:r,login:function(e,t){return m.signInWithEmailAndPassword(e,t)},signup:function(e,t){return m.createUserWithEmailAndPassword(e,t)},logout:function(){return m.signOut()}};return Object(p.jsx)(O.Provider,{value:d,children:!j&&t})}function x(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),m=b[0],O=b[1],f=Object(c.useState)(""),x=Object(o.a)(f,2),g=x[0],v=x[1],N=Object(c.useState)(""),C=Object(o.a)(N,2),y=C[0],w=C[1],S=h().currentUser;return Object(c.useEffect)((function(){u.a.get("/contacts/"+e.match.params._id).then((function(e){console.log(e.data);var t=e.data;r(t.firstName),j(t.lastName),O(t.email),v(t.image),w(t.group)}))}),[]),console.log(e.match.params._id),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row justify-content-center",children:Object(p.jsx)("div",{className:"col-md-5",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h2",{className:"card-title text-center",children:"Edit Contact"}),Object(p.jsx)("div",{className:"card-body py-md-4",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={firstName:n,lastName:l,email:m,image:g,group:y,userId:S.uid};console.log(a),u.a.post("/contacts/edit/"+e.match.params._id,a).then((function(e){return console.log(e.data)})),window.location="/"},children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"first_name",placeholder:"First name",value:n,onChange:function(e){r(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"last_name",placeholder:"Last name",value:l,onChange:function(e){j(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",value:m,onChange:function(e){O(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"image",placeholder:"Image URL",value:g,onChange:function(e){v(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",value:y,onChange:function(e){w(e.target.value)},children:[Object(p.jsx)("option",{defaultValue:!0,children:"Group: Company Name"}),Object(p.jsx)("option",{value:"Oakville Town Hall",children:"Oakville Town Hall"}),Object(p.jsx)("option",{value:"Sheridan College",children:"Sheridan College"})]})}),Object(p.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-between",children:Object(p.jsx)("button",{className:"btn btn-primary",children:"Edit Contact"})})]})})]})})})})}function g(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)(""),d=Object(o.a)(j,2),b=d[0],m=d[1],O=Object(c.useState)(""),f=Object(o.a)(O,2),x=f[0],g=f[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),C=N[0],y=N[1],w=h().currentUser;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h2",{className:"card-title text-center",children:"Create Contact"}),Object(p.jsx)("div",{className:"card-body py-md-4",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={firstName:a,lastName:i,email:b,image:x,group:C,userId:w.uid};console.log(t),u.a.post("/contacts",t).then((function(e){return console.log(e.data)})),window.location.reload()},children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"first_name",placeholder:"First name",value:a,onChange:function(e){n(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"last_name",placeholder:"Last name",value:i,onChange:function(e){l(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",value:b,onChange:function(e){m(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",id:"image",placeholder:"Image URL",value:x,onChange:function(e){g(e.target.value)}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",value:C,onChange:function(e){y(e.target.value)},children:[Object(p.jsx)("option",{defaultValue:!0,children:"Group: Company Name"}),Object(p.jsx)("option",{value:"Oakville Town Hall",children:"Oakville Town Hall"}),Object(p.jsx)("option",{value:"Sheridan College",children:"Sheridan College"})]})}),Object(p.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-between",children:Object(p.jsx)("button",{className:"btn btn-primary",children:"Create Contact"})})]})})]})}var v=a(23);function N(e){var t=Object(l.g)();return Object(p.jsxs)("div",{className:"card",style:{width:"13rem",height:"20rem",margin:"0.1rem 0.1rem 2rem 0.1rem"},children:[Object(p.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("img",{style:{width:"100px",marginTop:"10px",marginBottom:"-10"},className:"card-img-top",src:e.image?e.image:"./assets/userProfile.png",alt:"Card image cap"})}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:[e.firstName," ",e.lastName]}),Object(p.jsxs)("p",{className:"card-title",style:{fontWeight:"bold"},children:["# ",e.group]}),Object(p.jsx)("p",{style:{fontSize:"small"},className:"card-text",children:e.email}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"btn btn-danger",style:{marginRight:"1%"},onClick:function(){return e.deleteContact(e._id)},children:"Delete"}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){t.push("edit/".concat(e._id))},children:"Edit"})]})]})]})}function C(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)({sort:"date",filter:"all"}),d=Object(o.a)(j,2),b=d[0],m=d[1],O=h().currentUser;Object(c.useEffect)((function(){u.a.get("/contacts/user/".concat(O.uid)).then((function(e){n(e.data)}))}),[a]);var f=function(e){u.a.delete("/contacts/"+e).then((function(e){console.log(e.data)}));var t=a.filter((function(t){return t._id!==e}));n(t)};Object(c.useEffect)((function(){var e=a.filter((function(e){return"Oakville Town Hall"==e.group})),t=a.filter((function(e){return"Sheridan College"==e.group}));if("all"===b.filter)switch(b.sort){case"date":l(a);break;case"first_name":l(a.sort((function(e,t){var a=e.firstName.toUpperCase(),c=t.firstName.toUpperCase();return a<c?-1:a>c?1:0})));break;case"last_name":l(a.sort((function(e,t){var a=e.lastName.toUpperCase(),c=t.lastName.toUpperCase();return a<c?-1:a>c?1:0})))}if("oakville"===b.filter)switch(b.sort){case"date":l(e);break;case"first_name":l(e.sort((function(e,t){var a=e.firstName.toUpperCase(),c=t.firstName.toUpperCase();return a<c?-1:a>c?1:0})));break;case"last_name":l(e.sort((function(e,t){var a=e.lastName.toUpperCase(),c=t.lastName.toUpperCase();return a<c?-1:a>c?1:0})))}if("sheridan"===b.filter)switch(b.sort){case"date":l(t);break;case"first_name":l(t.sort((function(e,t){var a=e.firstName.toUpperCase(),c=t.firstName.toUpperCase();return a<c?-1:a>c?1:0})));break;case"last_name":l(t.sort((function(e,t){var a=e.lastName.toUpperCase(),c=t.lastName.toUpperCase();return a<c?-1:a>c?1:0})))}}),[b]);var x=a.map((function(e){return Object(p.jsx)(N,{_id:e._id,firstName:e.firstName,lastName:e.lastName,group:e.group,email:e.email,image:e.image,deleteContact:f},e._id)})),g=i.map((function(e){return Object(p.jsx)(N,{_id:e._id,firstName:e.firstName,lastName:e.lastName,group:e.group,email:e.email,image:e.image,deleteContact:f},e._id)}));return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"form-group row",style:{marginTop:"1%"},children:[Object(p.jsx)("label",{children:"Sorted by:"}),Object(p.jsxs)("select",{className:"form-select form-control","aria-label":"Default select example",onChange:function(e){m((function(t){return Object(v.a)(Object(v.a)({},t),{},{sort:e.target.value})}))},children:[Object(p.jsx)("option",{value:"date",defaultValue:!0,children:"Added Date: Latest-Oldest"}),Object(p.jsx)("option",{value:"first_name",children:"First Name: A-Z"}),Object(p.jsx)("option",{value:"last_name",children:"Last Name: A-Z"})]})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"form-group row",style:{marginTop:"1%"},children:[Object(p.jsx)("label",{children:"Filter:"}),Object(p.jsxs)("select",{className:"form-select form-control",onChange:function(e){m((function(t){return Object(v.a)(Object(v.a)({},t),{},{filter:e.target.value})}))},children:[Object(p.jsx)("option",{value:"all",defaultValue:!0,children:"Group by Company: All"}),Object(p.jsx)("option",{value:"oakville",children:"Group by Company: Oakville Town Hall"}),Object(p.jsx)("option",{value:"sheridan",children:"Group by Company: Sheridan College"})]})]})}),Object(p.jsx)("div",{className:"row",style:{display:"flex",flexWrap:"wrap"},children:0==i.length?x:g})]})}var y=a(108),w=a(109),S=a(63);function k(){return Object(p.jsx)(y.a,{style:{marginTop:"5%"},children:Object(p.jsxs)(w.a,{children:[Object(p.jsx)(S.a,{sm:8,children:Object(p.jsx)(C,{})}),Object(p.jsx)(S.a,{sm:4,children:Object(p.jsx)(g,{})})]})})}var _=a(110),U=a(112),L=a(113);function I(){var e=h().currentUser,t=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a.Item,{href:"/login",children:"Log In"}),Object(p.jsx)(_.a.Item,{href:"/signup",children:"Sign up"})]}),a=Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(_.a.Item,{href:"/logout",onClick:function(){console.log("logout")},children:"Log out"})});return Object(p.jsxs)(U.a,{bg:"dark",variant:"dark",children:[Object(p.jsx)(U.a.Brand,{href:"/",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("h3",{children:"Contact.com"}),"by Susie"]})}),Object(p.jsx)(L.a,{className:"ml-auto",children:Object(p.jsx)(_.a,{title:e?"Welcome, ".concat(e.email):"Welcome to contact.com",id:"basic-nav-dropdown",children:e?a:t})})]})}var E=a(31),F=a.n(E),T=a(41),D=a(115),A=a(114),P=a(111),G=a(66);function R(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=h().signup,r=Object(c.useState)(""),s=Object(o.a)(r,2),j=s[0],u=s[1],d=Object(l.g)();function b(){return(b=Object(T.a)(F.a.mark((function c(r){return F.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",u("Passwords do not match"));case 3:return c.prev=3,u(""),c.next=7,n(e.current.value,t.current.value);case 7:d.push("/"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(3),u("Failed to create an account");case 13:case"end":return c.stop()}}),c,null,[[3,10]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D.a,{children:Object(p.jsxs)(D.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(p.jsx)(A.a,{variant:"danger",children:j}),Object(p.jsxs)(P.a,{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(p.jsxs)(P.a.Group,{id:"email",children:[Object(p.jsx)(P.a.Label,{children:"Email"}),Object(p.jsx)(P.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(P.a.Group,{id:"password",children:[Object(p.jsx)(P.a.Label,{children:"Password"}),Object(p.jsx)(P.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsxs)(P.a.Group,{id:"password-confirm",children:[Object(p.jsx)(P.a.Label,{children:"Password Confirmation"}),Object(p.jsx)(P.a.Control,{type:"password",ref:a,required:!0})]}),Object(p.jsx)(G.a,{className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(p.jsx)(i.b,{to:"/login",children:"Log In"})]})]})}function B(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=h().login,n=Object(c.useState)(""),r=Object(o.a)(n,2),s=r[0],j=r[1],u=Object(l.g)();function d(){return(d=Object(T.a)(F.a.mark((function c(n){return F.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,j(""),c.next=5,a(e.current.value,t.current.value);case 5:u.push("/"),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),j("Failed to log in");case 11:case"end":return c.stop()}}),c,null,[[1,8]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D.a,{children:Object(p.jsxs)(D.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(p.jsx)(A.a,{variant:"danger",children:s}),Object(p.jsxs)(P.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(p.jsxs)(P.a.Group,{id:"email",children:[Object(p.jsx)(P.a.Label,{children:"Email"}),Object(p.jsx)(P.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(P.a.Group,{id:"password",children:[Object(p.jsx)(P.a.Label,{children:"Password"}),Object(p.jsx)(P.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsx)(G.a,{className:"w-100",type:"submit",children:"Log In"})]}),Object(p.jsx)("div",{className:"w-100 text-center mt-3",children:Object(p.jsx)(i.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(p.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})}function q(){var e=Object(l.g)(),t=h().logout;return Object(c.useEffect)((function(){t(),e.push("/")}),[]),Object(p.jsx)("div",{})}var H=a(67);function W(e){var t=e.component,a=Object(H.a)(e,["component"]),c=h().currentUser;return Object(p.jsx)(l.b,Object(v.a)(Object(v.a)({},a),{},{render:function(e){return c?Object(p.jsx)(t,Object(v.a)({},e)):Object(p.jsx)(l.a,{to:"/signup"})}}))}var z=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(i.a,{children:Object(p.jsxs)(f,{children:[Object(p.jsx)(I,{}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(W,{path:"/",exact:!0,component:k}),Object(p.jsx)(W,{path:"/edit/:_id",component:x}),Object(p.jsx)(l.b,{path:"/login",component:B}),Object(p.jsx)(l.b,{path:"/signup",component:R}),Object(p.jsx)(l.b,{path:"/logout",component:q})]})]})})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,116)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(102);s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root")),V()},72:function(e,t,a){},73:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.06ec652b.chunk.js.map